
# REST
[[REST]] (Representational State Transfer, 자원의 상태 전달)
네트워크 아키텍처 원리

1. Client, Server : 클라이언트와 서버가 서로 **독립적으로 분리**되어있어야 한다.
2. Stateless : 요청에 대해서 **클라이언트의 상태가 서버에 저장을 하지 않는다**.
3. [[캐시]] : 클라이언트는 서버의 응답을 캐싱 할 수 있어야한다. 클라이언트가 캐시를 통해서 **응답을 재사용**할 수 있어야 하며, 이를 통해 **서버의 부하를 낮춘다.**
4. 계층화 (Layered System) : 서버와 클라이언트 사이에, 방화벽, 게이트웨이, Proxy 등 다계층 형태를 구성할 수 있어야 하며, 확장할 수 있어야 한다.
5. [[인터페이스]] 일관성 : [[아키텍처]]를 단순화시키고 **작은 단위로 분리**하여서, 클라이언트, 서버가 **독립적으로 개선될 수 있어야 한다.**
6. Code On Demand (*optional*) 자바 애플릿, 자바스크립트 플래시 등 **특정기능을 서버가 클라이언트에 코드를 전달하여 실행** 할 수 있어야한다.



### 인터페이스의 일관성
인터페이스 일관성이 잘 지켜졌는지에 따라 REST를 잘 사용했는지 판단을 할 수 있다.
1. 자원 식별
2. 메시지를 통한 리소스 조작
3. [[자기 서술적 메시지]]
4. 애플리케이션 상태에 대한 엔진으로서 [[하이퍼미디어]]


- 자원 식별
	웹 기반의 REST에서는 리소스 접근을 URL를 사용합니다.
	ex ) \https://foo.co.kr/**user**/**100**
		Resource : user / 식별자 : 100


- 메시지를 통한 리소스 조작
	Web 에서는 다양한 방식으로 데이터를 전송 할 수 있습니다.
	그중에는 HTML, XML, JSON, TEXT 등등 다양한 방법이 있다.
	이 중에서 **리소스의 타입**을 알려주기 위해서 **header 부분**에 **content-type**를 통해서 어떠한 타입인지를 지정할 수 있습니다.
-> header 부분에 내가 전달하고자 하는 리소스의 타입이 HTML, XML, JSON, TEXT ... 인지를 지정할 수 있다는 말이다.

- [[자기 서술적 메시지]]
	요청 하는 데이터가 **어떻게 처리 되어져야 하는지** 충분한 데이터를 포함 할 수 있어야 한다.
	HTTP 기반의 REST에서는 HTTP Method와 header의 정보로 이를 표현할 수 있다.
-> GET, READ, PUT 과 같이 어떻게 처리되는지 표현할 수 있다는 말이다.

- 애플리케이션 상태에 대한 엔진으로서 [[하이퍼미디어]]
	REST API를 개발할 때에도 단순이 Client 요청에 대한 데이터만 내리는 것이 아닌 **관련된 리소스에 대한 Link정보 까지 같이** 포함 되어야한다.
	이러한 조건들을 잘 갖춘 경우 **REST Ful**하다고 말하고 이를 **REST API**라고 부른다.


## URI 설계
- [[URI]]
- [[URL]]
URL은 URI의 하위 개념

### URI 설계**원칙** 
*( 원칙이므로 꼭 이걸 지켜야하는 것은 아님 )*
- 슬래시 구분자 ( / )는 계층 관계를 나타내는 데 사용한다.
- URI 마지막 문자로 ( / ) 는 포함하지 않는다.
- 하이픈 ( - )은 URI가독성을 높이는데 사용한다.
- 밑줄 ( _ )은 사용하지 않는다.
- URI 경로에는 소문자가 적합하다.
- **파일 확장자**는 URI에 포함하지 않는다.
- **프로그래밍 언어에 의존적인 확장자**를 사용하지 않는다.
- **구현에 의존적인 경로**를 사용하지 않는다.
- 세션 ID를 포함하지 않는다.
- 프로그래밍 언어의 Method명을 이용하지 않는다.
- 명사에 단수형 보다는 복수형을 사용해야 한다. 컬렉션에 대한 표현은 복수로 사용
- 컨트롤러 이름으로는 동사나 동사구를 사용한다.
- 경로 부분 중 변하는 부분은 유일한 값으로 대체 한다.
- CRUD 기능을 나타내는 것은 URI에 사용하지 않는다.
- URI [[Query Parameter]] 디자인
	- URI 쿼리 부분으로 컬렉션 결과에 대해서 필터링 할 수 있다.
	- URI 쿼리는 컬렉션의 결과를 페이지로 구분하여 나타내는데 사용한다.
- API에 있어서 서브 도메인은 일관성 있게 사용해야 한다.
- 클라이언트 개발자 포탈 서브 도메인은 일관성 있게 만든다.
>볼드한 것을 지키지 않으면 취약점으로 해커에게 공격 받을 수 있음.




[[OSI]] 7 Layer

[[OSI 7 Layer]]
1. 물리 계층
2. 데이터 계층
3. 네트워크 계층
4. 전송 계층
5. 세션 계층
6. 표현 계층
7. 응용 계층


TCP / IP 계층은 더 간소화 되어있다.
1. 네트워크 접속
1. 네트워크 접속
2. 인터넷 계층
3. 전송 계층
4. 응용계층
4. 응용계층
4. 응용계층


통신의 방향은 OSI 7 ~ 1 부터 내려오면서 데이터에 header가 계속 붙으며, TCP / IP로 넘어가 1 ~ 4까지 지나면서 header를 하나씩 없애면서 최종적으론 원하는 데이터를 전송하는 것이다.
결과적으로 봤을 때, 통신은 JSON, 문자열, HTML이라는 데이터를 목적지 까지 옮기는 것이다.
통신을 하는 과정에서 지켜야하는 것이 [[프로토콜]]이다.







